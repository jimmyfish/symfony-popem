function registerAction(n){n.preventDefault();var a=jQuery(".content-main"),e=a.find("form"),i=e.find("#username").val(),t=e.find("#email").val(),r=e.find("#password").val(),o=e.find("#password-confirm").val(),d=e.find("#register_username_error"),l=e.find("#register_password_error"),s=e.find("#register_email_error"),f={username:i,email:t,password:r,passconf:o},u=validate({username:i,email:t,password:o},{username:{presence:{allowEmpty:!1,message:"dibutuhkan"},length:{minimum:5,tooShort:"harus lebih dari 5 huruf"}},email:{presence:{allowEmpty:!1,message:"dibutuhkan"},email:!0},password:{presence:{allowEmpty:!1,message:"dibutuhkan"}}});$("[id*=_error]").text(""),u?(status=!1,null!=u.username&&d.text(u.username[0]),null!=u.email&&s.text(u.email[0]),null!=u.password&&l.text(u.password[0])):"1"!=e.find("#register_checkbox:checked").val()?e.find("#register_agree_error").text("Anda harus menyetujui kebijakan yang ada"):$.ajax({type:"POST",url:"{{ path('popem_api_client_register') }}",data:f,beforeSend:function(){e.find("button").val("Memproses ..."),e.find("input, button").prop("disabled",!0),e.find(".spinner").removeClass("hide")},success:function(n){!0===n.status?(a.find(".success-notification").removeClass("hide"),a.find(".error-notification").hide(),a.find("form").hide()):(a.find(".error-notification").removeClass("hide"),a.find(".error-notification").find(".error-notif").text(n.data.message))},complete:function(){e.find("input, button").prop("disabled",!1),e.find(".spinner").addClass("hide")}})}function depositAction(n){n.preventDefault();var a=$(".content-main"),e=a.find("form"),i={login:e.find("#login").val(),email:e.find("#deposit_email").val(),bankAccount:e.find("#bank_account").val(),amount:e.find("#amount").val()},t=new FormData,r=validate(i,{login:{length:{minimum:6,maximum:8,tooShort:"harus lebih dari 6 karakter",tooLong:"harus kurang dari 8 karakter"},numericality:!0},email:{presence:{allowEmpty:!1},email:!0},bankAccount:{numericality:!0},amount:{numericality:!0}});$("[id*=_error]").text(""),r?(null!=r.login&&e.find("#deposit_login_error").text(r.login[0]),null!=r.email&&e.find("#deposit_email_error").text(r.email[0]),null!=r.bankAccount&&e.find("#deposit_akun_error").text(r.bankAccount[0]),null!=r.amount&&e.find("#deposit_amount_error").text(r.amount[0])):(t.append("broker_id",parseInt(e.find("#deposit__broker").val())),t.append("login",parseInt(e.find("#login").val())),t.append("email",e.find("#deposit_email").val()),t.append("phone",e.find("#phone").val()),t.append("bank_name",e.find("#bank_name").val()),t.append("bank_account",parseInt(e.find("#bank_account").val())),t.append("bank_beneficiary_name",e.find("#bank_beneficiary_name").val()),t.append("bank_id",parseInt(e.find("#bank_id").val())),t.append("amount",parseInt(e.find("#amount").val())),t.append("file",e.find("#file")[0].files[0]),$.ajax({type:"POST",url:"{{ path('popem_api_client_deposit_account') }}",data:t,contentType:!1,processData:!1,cache:!1,dataType:"json",beforeSend:function(){a.find("input").prop("disabled",!0),a.find("button").prop("disabled",!0),a.find(".caption").text("Memproses"),a.find(".spinner").removeClass("hide")},success:function(n){if(1==n.data.status){var i=a.find(".success-notification"),t=parseInt(n.data.amount_transfer).toLocaleString();i.find(".dept_amount").text(t),i.find(".ticket").text(n.data.ticket_number),e.hide(),a.find(".error-notification-depost").hide(),i.removeClass("hide")}else a.find(".error-notification-deposit").removeClass("hide"),a.find(".error-notification-deposit").find(".error-notif-deposit").text(n.data.message),e.hide()},complete:function(){e.find("input, button").prop("disabled",!1),e.find(".spinner").addClass("hide")},error:function(n){console.log(n)}}))}function withdrawalAccount(n){n.preventDefault();var a=jQuery(".content-main"),e=a.find("form"),i={login:e.find("#withdrawal_login").val(),email:e.find("#withdrawal_email").val(),bankAccount:e.find("#withdrawal_bank_account").val(),amount:e.find("#withdrawal_amount").val()},t={broker_id:parseInt(e.find("#withdrawal_broker_id").val()),login:parseInt(e.find("#withdrawal_login").val()),phone_password:e.find("#withdrawal_phone_password").val(),email:e.find("#withdrawal_email").val(),phone:e.find("#withdrawal_phone").val(),bank_name:e.find("#withdrawal_bank_name").val(),bank_account:e.find("#withdrawal_bank_account").val(),bank_beneficiary_name:e.find("#withdrawal_bank_beneficiary_name").val(),amount:parseInt(e.find("#withdrawal_amount").val())},r=validate(i,{login:{length:{minimum:6,maximum:8,tooShort:"harus lebih dari 6 karakter",tooLong:"harus kurang dari 8 karakter"},numericality:!0},email:{presence:{allowEmpty:!1},email:!0},bankAccount:{numericality:!0},amount:{numericality:!0}});$("[id*=_error]").text(""),r?(null!=r.login&&e.find("#withdrawal_login_error").text(r.login[0]),null!=r.email&&e.find("#withdrawal_email_error").text(r.email[0]),null!=r.bankAccount&&e.find("#withdrawal_akun_error").text(r.bankAccount[0]),null!=r.amount&&e.find("#withdrawal_amount_error").text(r.amount[0])):$.ajax({type:"POST",url:"{{ path('popem_api_client_withdrawal_account') }}",data:t,beforeSend:function(){a.find("input").prop("disabled",!0),a.find("button").prop("disabled",!0),a.find(".caption").text("Memproses"),a.find(".spinner").removeClass("hide")},success:function(n){if(1==n.data.status){var i=a.find(".success-notification");i.find(".ticket").text(n.data.ticket_number),e.hide(),a.find(".error-notification-withdrawal").hide(),i.removeClass("hide")}else a.find(".error-notification-withdrawal").removeClass("hide"),a.find(".error-notification-withdrawal").find(".error-notif-withdrawal").text(n.data.message),e.hide()},complete:function(){e.find("input, button").prop("disabled",!1),e.find(".spinner").addClass("hide")},error:function(n){console.log(n)}})}